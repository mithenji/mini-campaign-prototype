/*!
 * weui.js v1.2.1 (https://weui.io)　only parker 
 * Copyright 2019, wechat ui team
 * MIT license
 */
 /* Demo
document.querySelector('#datePark').addEventListener('click', function () {
    weui.datePicker({
        start: '2016-12-29',
        end: '2030-12-29',
       
        cron: '* * *',
        defaultValue: [2017, 7, 9],
        onChange: function (result) {
          let date = [];
            result.forEach((item)=>{
               date.push(item.value)
            })
            date = date.join('/')
            console.log(date);
        },
        onConfirm: function (result) {
            console.log(result);
        },
        id: 'datePicker',
        title: '日期选择器'        
    });
});
*/
 /**
 * https://zh.wikipedia.org/wiki/Cron
 * cron 表达式后三位
 * 示例：
 *  * * *                每天
 *  5 * *                每个月的5日
 *  1-10 * *             每个月的前10日
 *  1,5,10 * *           每个月的1号、5号、10号
 *  *\/2 * *             每个月的 1、3、5、7...日，注意写的时候斜杠“/”前面没有反斜杠“\”，这是因为是注释所以需要转义
 *  * 2 0                2月的每个周日
 *  * * 0,6              每个周末
 *  * * 3                每周三
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.weui=t():e.weui=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default={picker:i.picker,datePicker:i.datePicker},e.exports=t.default},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function r(e){"object"!=("undefined"==typeof e?"undefined":l(e))&&(e={label:e,value:e}),s.default.extend(this,e)}function a(){function e(){(0,s.default)(a.container).append(v),s.default.getStyle(v[0],"transform"),v.find(".weui-half-screen-dialog__title").html(a.title),v.find(".weui-mask").addClass("weui-animate-fade-in"),v.find(".weui-picker").addClass("weui-animate-slide-up")}function t(e){t=s.default.noop,v.find(".weui-mask").addClass("weui-animate-fade-out"),v.find(".weui-picker").addClass("weui-animate-slide-down").on("animationend webkitAnimationEnd",function(){v.remove(),w=!1,a.onClose(),e&&e()})}function n(e){t(e)}function i(e,t){if(void 0===h[t]&&a.defaultValue&&void 0!==a.defaultValue[t]){var n=a.defaultValue[t],o=0,u=e.length;if("object"==l(e[o]))for(;o<u&&n!=e[o].value;++o);else for(;o<u&&n!=e[o];++o);o<u&&(h[t]=o)}v.find(".weui-picker__group").eq(t).scroll({items:e,temp:h[t],onChange:function(e,n){if(e?d[t]=new r(e):d[t]=null,h[t]=n,f)d.length==y&&a.onChange(d);else if(e.children&&e.children.length>0)v.find(".weui-picker__group").eq(t+1).show(),!f&&i(e.children,t+1);else{var o=v.find(".weui-picker__group");o.forEach(function(e,n){n>t&&(0,s.default)(e).hide()}),d.splice(t+1),a.onChange(d)}},onConfirm:a.onConfirm})}if(w)return w;var o=arguments[arguments.length-1],a=s.default.extend({id:"default",className:"",container:"body",title:"",onChange:s.default.noop,onConfirm:s.default.noop,onClose:s.default.noop},o),u=void 0,f=!1;if(arguments.length>2){var c=0;for(u=[];c<arguments.length-1;)u.push(arguments[c++]);f=!0}else u=arguments[0];b[a.id]=b[a.id]||[];for(var d=[],h=b[a.id],v=(0,s.default)(s.default.render(m.default,a)),y=o.depth||(f?u.length:p.depthOf(u[0])),_="",k=y;k--;)_+=g.default;return v.find(".weui-picker__bd").html(_),e(),f?u.forEach(function(e,t){i(e,t)}):i(u,0),v.on("click",".weui-mask",function(){n()}).on("click",".weui-picker__btn",function(){n()}).on("click","#weui-picker-confirm",function(){a.onConfirm(d)}),w=v[0],w.hide=n,w}function u(e){var t=new Date,n=s.default.extend({id:"datePicker",onChange:s.default.noop,onConfirm:s.default.noop,start:t.getFullYear()-20,end:t.getFullYear()+20,defaultValue:[t.getFullYear(),t.getMonth()+1,t.getDate()],cron:"* * *"},e);"number"==typeof n.start?n.start=new Date(n.start+"/01/01"):"string"==typeof n.start&&(n.start=new Date(n.start.replace(/-/g,"/"))),"number"==typeof n.end?n.end=new Date(n.end+"/12/31"):"string"==typeof n.end&&(n.end=new Date(n.end.replace(/-/g,"/")));var i=function(e,t,n){for(var i=0,o=e.length;i<o;i++){var r=e[i];if(r[t]==n)return r}},o=[],r=d.default.parse(n.cron,n.start,n.end),u=void 0;do{u=r.next();var l=u.value.getFullYear(),f=u.value.getMonth()+1,c=u.value.getDate(),h=i(o,"value",l);h||(h={label:l+"年",value:l,children:[]},o.push(h));var p=i(h.children,"value",f);p||(p={label:f+"月",value:f,children:[]},h.children.push(p)),p.children.push({label:c+"日",value:c})}while(!u.done);return a(o,n)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(2),s=o(f),c=n(6),d=o(c);n(7);var h=n(8),p=i(h),v=n(9),m=o(v),y=n(10),g=o(y);r.prototype.toString=function(){return this.value},r.prototype.valueOf=function(){return this.value};var w=void 0,b={};t.default={picker:a,datePicker:u},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=this.os={},n=e.match(/(Android);?[\s\/]+([\d.]+)?/);n&&(t.android=!0,t.version=n[2])}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(3);var a=n(4),u=i(a),l=n(5),f=i(l);o.call(f.default,navigator.userAgent),(0,u.default)(f.default.fn,{append:function(e){return e instanceof HTMLElement||(e=e[0]),this.forEach(function(t){t.appendChild(e)}),this},remove:function(){return this.forEach(function(e){e.parentNode.removeChild(e)}),this},find:function(e){return(0,f.default)(e,this)},addClass:function(e){return this.forEach(function(t){t.classList.add(e)}),this},removeClass:function(e){return this.forEach(function(t){t.classList.remove(e)}),this},eq:function(e){return(0,f.default)(this[e])},show:function(){return this.forEach(function(e){e.style.display="block"}),this},hide:function(){return this.forEach(function(e){e.style.display="none"}),this},html:function(e){return this.forEach(function(t){t.innerHTML=e}),this},css:function(e){var t=this;return Object.keys(e).forEach(function(n){t.forEach(function(t){t.style[n]=e[n]})}),this},on:function(e,t,n){var i="string"==typeof t&&"function"==typeof n;return i||(n=t),this.forEach(function(o){e.split(" ").forEach(function(e){o.addEventListener(e,function(e){i?this.contains(e.target.closest(t))&&n.call(e.target,e):n.call(this,e)})})}),this},off:function(e,t,n){return"function"==typeof t&&(n=t,t=null),this.forEach(function(i){e.split(" ").forEach(function(e){"string"==typeof t?i.querySelectorAll(t).forEach(function(t){t.removeEventListener(e,n)}):i.removeEventListener(e,n)})}),this},index:function(){var e=this[0],t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},offAll:function(){var e=this;return this.forEach(function(t,n){var i=t.cloneNode(!0);t.parentNode.replaceChild(i,t),e[n]=i}),this},val:function(){var e=arguments;return arguments.length?(this.forEach(function(t){t.value=e[0]}),this):this[0].value},attr:function(){var e=arguments;if("object"==r(arguments[0])){var t=arguments[0],n=this;return Object.keys(t).forEach(function(e){n.forEach(function(n){n.setAttribute(e,t[e])})}),this}return"string"==typeof arguments[0]&&arguments.length<2?this[0].getAttribute(arguments[0]):(this.forEach(function(t){t.setAttribute(e[0],e[1])}),this)}}),(0,u.default)(f.default,{extend:u.default,noop:function(){},render:function(e,t){var n="var p=[];with(this){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');";return new Function(n).apply(t)},getStyle:function(e,t){var n,i=(e.ownerDocument||document).defaultView;return i&&i.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),i.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,i=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=i,t}(n):n):void 0}}),t.default=f.default,e.exports=t.default},function(e,t){!function(e){"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),i=0;n[i]&&n[i]!==t;)++i;return Boolean(n[i])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype)},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(e,t){for(var i,u,l=n(e),f=1;f<arguments.length;f++){i=Object(arguments[f]);for(var s in i)r.call(i,s)&&(l[s]=i[s]);if(o){u=o(i);for(var c=0;c<u.length;c++)a.call(i,u[c])&&(l[u[c]]=i[u[c]])}}return l}},function(e,t,n){var i,o;!function(n,r){r=function(e,t,n){function i(o,r,a){return a=Object.create(i.fn),o&&a.push.apply(a,o[t]?[o]:""+o===o?/</.test(o)?((r=e.createElement(r||t)).innerHTML=o,r.children):r?(r=i(r)[0])?r[n](o):a:e[n](o):"function"==typeof o?e.readyState[7]?o():e[t]("DOMContentLoaded",o):o),a}return i.fn=[],i.one=function(e,t){return i(e,t)[0]||null},i}(document,"addEventListener","querySelectorAll"),i=[],o=function(){return r}.apply(t,i),!(void 0!==o&&(e.exports=o))}(this)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=t[0],i=t[1],o=[],r=void 0;e=e.replace(/\*/g,n+"-"+i);for(var u=e.split(","),l=0,f=u.length;l<f;l++){var s=u[l];s.match(a)&&s.replace(a,function(e,t,a,u){u=parseInt(u)||1,t=Math.min(Math.max(n,~~Math.abs(t)),i),a=a?Math.min(i,~~Math.abs(a)):t,r=t;do o.push(r),r+=u;while(r<=a)})}return o}function o(e,t,n){var o=e.replace(/^\s\s*|\s\s*$/g,"").split(/\s+/),r=[];return o.forEach(function(e,t){var n=u[t];r.push(i(e,n))}),new l(r,t,n)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=/^(\d+)(?:-(\d+))?(?:\/(\d+))?$/g,u=[[1,31],[1,12],[0,6]],l=function(){function e(t,i,o){n(this,e),this._dates=t[0],this._months=t[1],this._days=t[2],this._start=i,this._end=o,this._pointer=i}return r(e,[{key:"_findNext",value:function(){for(var e=void 0;;){if(this._end.getTime()-this._pointer.getTime()<0)throw new Error("out of range, end is "+this._end+", current is "+this._pointer);var t=this._pointer.getMonth(),n=this._pointer.getDate(),i=this._pointer.getDay();if(this._months.indexOf(t+1)!==-1)if(this._dates.indexOf(n)!==-1){if(this._days.indexOf(i)!==-1){e=new Date(this._pointer);break}this._pointer.setDate(n+1)}else this._pointer.setDate(n+1);else this._pointer.setMonth(t+1),this._pointer.setDate(1)}return e}},{key:"next",value:function(){var e=this._findNext();return this._pointer.setDate(this._pointer.getDate()+1),{value:e,done:!this.hasNext()}}},{key:"hasNext",value:function(){try{return this._findNext(),!0}catch(e){return!1}}}]),e}();t.default={parse:o},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),a=i(r),u=function(e,t){return e.css({"-webkit-transition":"all "+t+"s",transition:"all "+t+"s"})},l=function(e,t){return e.css({"-webkit-transform":"translate3d(0, "+t+"px, 0)",transform:"translate3d(0, "+t+"px, 0)"})},f=function(e){for(var t=Math.floor(e.length/2),n=0;e[t]&&e[t].disabled;)if(t=++t%e.length,n++,n>e.length)throw new Error("No selectable item.");return t},s=function(e,t,n){var i=f(n);return(e-i)*t},c=function(e,t){return e*t},d=function(e,t,n){return-(t*(n-e-1))};a.default.fn.scroll=function(e){function t(e){y=e,w=+new Date}function n(e){g=e;var t=g-y;u(m,0),l(m,b+t),w=+new Date,_.push({time:w,y:g}),_.length>40&&_.shift()}function i(e){if(y){var t=(new Date).getTime(),n=v[0].getBoundingClientRect().top+h.bodyHeight/2;if(g=e,t-w>100)x(Math.abs(g-y)>10?g-y:n-g);else if(Math.abs(g-y)>10){for(var i=_.length-1,o=i,r=i;r>0&&w-_[r].time<100;r--)o=r;if(o!==i){var a=_[i],u=_[o],l=a.time-u.time,f=a.y-u.y,s=f/l,c=150*s+(g-y);x(c)}else x(0)}else x(n-g);y=null}}var r=this,h=a.default.extend({items:[],scrollable:".weui-picker__content",offset:2,rowHeight:48,onChange:a.default.noop,temp:null,bodyHeight:240},e),p=h.items.map(function(e){return'<div class="weui-picker__item'+(e.disabled?" weui-picker__item_disabled":"")+'">'+("object"==("undefined"==typeof e?"undefined":o(e))?e.label:e)+"</div>"}).join(""),v=(0,a.default)(this);v.find(".weui-picker__content").html(p);var m=v.find(h.scrollable),y=void 0,g=void 0,w=void 0,b=void 0,_=[];if(null!==h.temp&&h.temp<h.items.length){var k=h.temp;h.onChange.call(this,h.items[k],k),b=(h.offset-k)*h.rowHeight}else{var j=f(h.items);h.onChange.call(this,h.items[j],j),b=s(h.offset,h.rowHeight,h.items)}l(m,b);var x=function(e){b+=e,b=Math.round(b/h.rowHeight)*h.rowHeight;var t=c(h.offset,h.rowHeight),n=d(h.offset,h.rowHeight,h.items.length);b>t&&(b=t),b<n&&(b=n);for(var i=h.offset-b/h.rowHeight;h.items[i]&&h.items[i].disabled;)e>0?++i:--i;b=(h.offset-i)*h.rowHeight,u(m,.3),l(m,b),h.onChange.call(r,h.items[i],i)};m=v.offAll().on("touchstart",function(e){t(e.changedTouches[0].pageY)}).on("touchmove",function(e){n(e.changedTouches[0].pageY),e.preventDefault()}).on("touchend",function(e){i(e.changedTouches[0].pageY)}).find(h.scrollable);var E="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;E||v.on("mousedown",function(e){t(e.pageY),e.stopPropagation(),e.preventDefault()}).on("mousemove",function(e){y&&(n(e.pageY),e.stopPropagation(),e.preventDefault())}).on("mouseup mouseleave",function(e){i(e.pageY),e.stopPropagation(),e.preventDefault()})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.depthOf=function e(t){var n=1;return t.children&&t.children[0]&&(n=e(t.children[0])+1),n}},function(e,t){e.exports=' <div class="<%= className %>"> <div class=weui-mask></div> <div class="weui-half-screen-dialog weui-picker"> <div class=weui-half-screen-dialog__hd> <div class=weui-half-screen-dialog__hd__side> <button class="weui-icon-btn weui-icon-btn_close weui-picker__btn">关闭</button> </div> <div class=weui-half-screen-dialog__hd__main> <strong class=weui-half-screen-dialog__title>标题</strong> </div> </div> <div class=weui-half-screen-dialog__bd> <div class=weui-picker__bd></div> </div> <div class=weui-half-screen-dialog__ft> <a href=javascript:; class="weui-btn weui-btn_primary weui-picker__btn" id=weui-picker-confirm data-action=select>确定</a> </div> </div> </div>'},function(e,t){e.exports="<div class=weui-picker__group> <div class=weui-picker__mask></div> <div class=weui-picker__indicator></div> <div class=weui-picker__content></div> </div>"}])});